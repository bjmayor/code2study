#include <stdio.h>
#define LASTLINES 10
#define MAXLINES 5000

char *lineptr[MAXLINES];
int readlines(char *lineptr[], int nlines);
void tail(int n, int total, char *lineptr[]);
int main(int argc, char **argv)
{
    int lastline = LASTLINES;
    int nlines;
    if(argc >1 && (*++argv)[0] == '-')
    {
        lastline = atoi(++(*argv));
    }
    if ((nlines = readlines(lineptr, MAXLINES)) >=0)
    {
        tail(lastline,nlines, lineptr);
    }
    else
    {
        printf("erorr: input too big to deal\n");
        return 1;
    }
    return 0;
}
void tail(int n, int total, char *lineptr[])
{
         int begin = (nlines - n) > 0 ? nlines-n : 1;
        while(begin <= nlines)
        {
            printf("%s",*(lineptr+begin-1));
            begin++;
        }
}